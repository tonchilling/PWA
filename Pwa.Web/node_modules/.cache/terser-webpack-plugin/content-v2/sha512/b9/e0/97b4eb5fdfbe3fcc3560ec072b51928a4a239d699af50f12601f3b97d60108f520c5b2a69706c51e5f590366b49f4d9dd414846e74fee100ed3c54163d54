{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=3)}({3:function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);new(function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,o=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),o.call(this)}return t=l,(n=[{key:\"getName\",value:function(){return i(s(l.prototype),\"getServiceDomain\",this).call(this)}},{key:\"addIncident\",value:function(){var e=i(s(l.prototype),\"getServicePath\",this).call(this,\"/api/Complaint/hello2\");alert(e),$.ajax({url:e,type:\"GET\",dataType:\"json\",error:function(e,t,n){alert(e.responseText)},success:function(e){alert(\"xxxxxxxxxxxxxxxxxxxxxx\")}})}}])&&a(t.prototype,n),r&&a(t,r),l}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.serviceDomainName=\"http://localhost:26189/\"}var t,n,o;return t=e,(n=[{key:\"getServiceDomain\",value:function(){return this.serviceDomainName}},{key:\"getServicePath\",value:function(e){return\"\".concat(this.getServiceDomainName(),\"/\").concat(e)}}])&&r(t.prototype,n),o&&r(t,o),e}()));var f=null,d=null,p=null,y={init:function(){try{$.each(_incidentTypes,(function(e,t){$(\"#ddlIncidentType\").append($(\"<option>\").text(t.Name).attr(\"value\",t.Id))})),d=L.map(\"mapid\").setView([13,100],6),L.tileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",{attribution:'&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'}).addTo(d),p=new L.FeatureGroup,d.addLayer(p),f=new Vue({el:\"#addUserForm\",data:{message:\"Hello Vue!\",errors:[],Incident:{PwaIncidentID:0,PwaIncidentNo:\"Auto\",PwaIncidentTypeID:1,PwaIncidentGroupID:1,PwaInformChannel:1,CaseTitle:\"1\",CaseDetail:\"\",ResolvedDetail:\"\",Sla:!0,SlaDetail:\"\",ReceivedCaseDate:\"06/15/2020\",CompletedCaseDate:\"06/20/2020\",ReceivedCaseTime:\"9:00\",CompletedCaseTime:\"15:00\",CaseLatitude:\"\",CaseLongtitude:\"\",CustomerID:\"\",Title:\"1\",FirstName:\"\",LastName:\"\",MeterNo:\"\",Telephone:\"\",InformChannelID:1,InformReference:\"\",CreatedBy:\"\"}},methods:{submit:function(e){alert(\"Hello \"+f.Incident.ReceivedCaseDate),this.errors=[],\"\"===this.Incident.FirstName&&this.errors.push(\"First name is required.\"),f.Incident.Informers=[],f.Incident.Informers.push({CustomerID:f.Incident.CustomerID,Title:f.Incident.Title,FirstName:f.Incident.FirstName,LastName:f.Incident.LastName,MeterNo:f.Incident.MeterNo,Telephone:f.Incident.Telephone,InformChannelID:f.Incident.InformChannelID,InformReference:f.Incident.InformReference,CreatedBy:f.Incident.CreatedBy}),PwaManager.PwaWaiting(!0),$.ajax({url:\"http://localhost:26189/api/Incident/Addcident\",data:f.Incident,type:\"POST\",dataType:\"json\",error:function(e,t,n){alert(e.responseText)},success:function(e){y.displayIncidents(),PwaManager.PwaWaiting(!1),swal({title:\"สำเร็จ!\",text:\"บันทึกข้อมูลเรียบร้อย!\",timer:1500})}})}}}),$(\"#ddlInformChannel\").change((function(){}))}catch(e){alert(e.message)}},test:function(){alert(\"xxxxx\")},displayIncidents:function(){$.ajax({url:\"http://localhost:26189/api/Incident/GetIncidents\",type:\"GET\",dataType:\"json\",error:function(e,t,n){alert(e.responseText)},success:function(e){var t=\"\";if(e.Success){p.clearLayers(),$.each(e.Incidents,(function(e,n){t+=\"<tr>\",t+='<td onclick=\"javascript:showMapBookmark();\">',t+='<table class=\"table table-borderless\">',t+=\"   <tbody>\",t+=\"        <tr><td><b>รายการ :</b>\"+n.RequestType+\"-\"+n.RequestCategory+\"</td></tr>\",t+=\"        <tr><td><b>เรื่อง :</b>\"+n.RequestCategorySubject+\"</td></tr>\",t+=\"        <tr><td><b>สถานะ :</b> รอดำเนินการ </td></tr>\",t+=\"   </tbody>\",t+=\" </table>\",t+=\"</td>\",t+=\"</tr>\",p.addLayer(L.marker([m(14,14.4),m(100,100.6)]))}));var n='<table class=\"table table-hover\">';n+=\"<thead>\",n+=\"        <tr>\",n+='            <th scope=\"col\">รายการค้นหา</th>',n+=\"        </tr>\",n+=\"    </thead>\",n+=\"    <tbody>\",n+=t,n+=\"    </tbody>\",n+=\"</table>\",$(\"#dvIncidentsList\").html(n)}}})}};function m(e,t){var n=(Math.random()*(t-e)+e).toFixed(4);return console.log(n),n}$(document).ready((function(){console.log(\"document ready!\");try{y.init(),y.displayIncidents()}catch(e){alert(\"error :\"+e.message)}}))}});","extractedComments":[]}